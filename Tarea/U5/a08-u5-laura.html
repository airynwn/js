<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h2>
      Realiza el siguiente formulario
      - Cuando pulse Haz clic para enviar
      información, se enviará la información a un
      correo electrónico en texto plano.
      - Cuando pulse en Haz clic sobre mí, se redirigirá
      a la página de Google.
    </h2>
    <fieldset>
        <legend>Datos personales</legend>
        <form action="">
            <label for="nombre">Introduce tu nombre: </label>
            <input type="text">
            <br>
            <label for="mensaje">Mensaje: </label>
            <textarea name="mensaje" id="" cols="30" rows="10"></textarea>
        </fieldset>
        <br>
        <label for="color">Elige un color: </label>
        <br>
        <input type="radio" name="color" id="rojo" value="crimson">
        Rojo
        <br>
        <input type="radio" name="color" id="verde" value="limegreen">
        Verde
        <br>
        <input type="radio" name="color" id="azul" value="deepskyblue">
        Azul
        <br>
        <label for="asignatura">Selecciona la asignatura: </label>
        <select class="asignatura" name="asignatura" id="asignatura">
            <option value="mates">Matemáticas</option>
            <option value="lengua">Lengua</option>
            <option value="filosofía">Filosofía</option>
            <option value="psicología">Psicología</option>
        </select>
        <br>
        <label for="dias">Selecciona los días con disponibilidad: </label>
        <br>
        <input type="checkbox" name="dias" id="lunes" value="lunes">
        lunes
        <br>
        <input type="checkbox" name="dias" id="martes" value="martes">
        martes
        <br>
        <input type="checkbox" name="dias" id="miercoles" value="miercoles">
        miercoles
        <br>
        <input type="checkbox" name="dias" id="jueves" value="jueves">
        jueves
        <br>
        <input type="checkbox" name="dias" id="viernes" value="viernes">
        viernes
        <br>
        <label for="pref">Selecciona el día preferente: </label>
        <select name="pref" id="pref">
            <option value="lunes">lunes</option>
            <option value="martes">martes</option>
            <option value="miercoles">miercoles</option>
            <option value="jueves">jueves</option>
            <option value="viernes">viernes</option>
        </select>
        <br>
        <input type="submit" id="enviar" value="Haz clic para enviar información">
        <input type="reset" value="Comenzar a rellenar de nuevo">
        <input type="button" id="google" value="Haz clic sobre mí">
    </form>

    <div class="texto"></div>

    <script type="text/javascript">
        // Sobre mí -> Google
        var sobremi = document.getElementById("google");
        sobremi.addEventListener("click", () => location.href = "http://www.google.com");

        // 9. enviar el cuestionario al profesor de la asignatura seleccionada
        var asignaturas = document.querySelector(".asignatura");
        asignaturas.addEventListener(
            "change",
            (e) => alert('El cuestionario se enviará al profesor de ' + e.target.value
        ));

        // 10. Marcar como día preferente el día marcado disponible.
        // Si hay varios días marcados disponibles, se marca preferente el último de estos.
          var dias = document.querySelectorAll('input[type=checkbox][name="dias"]');
          dias.forEach(dia => dia.addEventListener("change", () => {
            // Al marcar un día disponible, poner por defecto ese día como selected en preferentes
            // Comprobar que el día haya sido marcado y no desmarcado en el change
            if (dia.checked) {
              document.querySelector('select[name="pref"]').value = dia.value;
            }            
          }));

        // 11. cambiar coloro de fondo segun input radio seleccionado
        var colores = document.querySelectorAll('input[type=radio][name="color"]');
        colores.forEach(color => color.addEventListener(
            "change", () => document.body.style.background = color.value));   

    </script>
  </body>
</html>
